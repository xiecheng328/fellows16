<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <ul id="ul1">
        <li>1</li>
        <li>2</li>
        <li>3</li>
    </ul>


    <script>
        //var :variable
        /* var a = 5;
        console.log(a); 

        a = 5;
        console.log(a); */

        /* var a = 5;
        function foo(){
            console.log(a);//undefined
            var a = 6;

            // 相当于
            var a;
            console.log(a);
            a = 6;
        }
        foo(); */

        /* var a = 5;
        function foo(){
            console.log(a);//5
            a = 6;
        }
        foo(); */

        /* console.log("1==" + a);
        var a = 5;
        function a(){
            console.log("2==" + a);
        }
        a = 6;
        console.log("3==" + a);
        a(); */


        //function定义方式
        /* fn1();
        function fn1(){
            console.log('fn1');
        }

        fn2();
        var fn2 = function(){
            console.log('fn2');
        }; */

        //js没有块级作用域
        /* if(true){
            var a = 5;
        }
        console.log(a); */

        /* var a = 5;
        function foo(){
            console.log(a);
            //逻辑代码
            if(false){
                var a = 6;
            }
        }
        foo(); */

        /* for(var i=0; i<3; i++){
            console.log(i);
        }
        console.log(i);//3 */


        /*  console.log(a);
         let a = 5; */
        /* let a = 5;
        let a = 6;
        console.log(a); */

       /*  var a = 5;
        if(a == 5){
            throw new Error('a已经等于5啦！别再赋值啦!');
        } */

        /* var a = 5;
        function foo(){
            console.log(a);
            let a = 6;
        }
        foo(); */


        /* let a = 5;
        function foo(){
            console.log(a);
            //逻辑代码
            if(false){
                let a = 6;
            }
        }
        foo(); */

        /* for(let i=0; i<3; i++){
            console.log(i);
        }
        let i = 5;
        console.log(i); */

        /* function foo(arg){
            console.log(arg);
            
                let arg = 6;
                console.log(arg);
            
        }
        foo(5); */

        /* const a = 5;
        a = 6;
        console.log(a); */

         /* const obj = {
             name: 'zhangsan',
             age: 18
         };
         console.log(obj);
         obj = {
             name: 'lisi'
         };//new Object()
         console.log(obj); */


       /*  obj.name = 'lisi';
        console.log(obj); */
        /*  Object.freeze(obj);//冻结
         obj.name = 'lisi';
         console.log(obj); */

        /* const arr = [1, 2, 3, 4];
        console.log(arr);
        arr.push(5);
        console.log(arr); */

        /* let arr = [];
        for(let i=0; i<5; i++){
            //  aLi[i].index = i;
            // aLi[i].onclick = function(){
            //     console.log(this.index);
            // }; 
            arr[i] = function(){
                console.log(i);
            };
        }
        arr[3](); */

        var oUl = document.querySelector("#ul1");
        var aLi = oUl.getElementsByTagName('li');
        //方法一  对象自定义属性
        /* for (var i = 0; i < aLi.length; i++) {
            aLi[i].index = i;
            aLi[i].onclick = function () {
                console.log(this.index);
            };
        } */

        //方法二  let
        /* for (let i = 0; i < aLi.length; i++) {
            aLi[i].onclick = function () {
                console.log(i);
            };
        } */

        //方法三  闭包
        //外部函数里面定义内部函数，内部函数应用外部函数的局部变量,变量不被释放
        for (var i = 0; i < aLi.length; i++) {
            (function (idx) {
                aLi[idx].onclick = function () {
                    console.log(idx);
                };
                /* aLi[0].onclick = function () {
                    console.log(0);
                };
                aLi[1].onclick = function () {
                    console.log(1);
                };
                aLi[2].onclick = function () {
                    console.log(2);
                }; */
            })(i);
        }


    </script>
</body>

</html>